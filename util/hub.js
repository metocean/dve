// Generated by CoffeeScript 1.9.1

/*

Keep track of listeners based on id.
Great for messaging.
 */
var slice = [].slice;

module.exports = function() {
  var listeners;
  listeners = {};
  return {
    on: function(id, listener) {
      if (listeners[id] == null) {
        listeners[id] = [];
      }
      return listeners[id].push(listener);
    },
    emit: function() {
      var args, h, i, id, len, ref, results;
      id = arguments[0], args = 2 <= arguments.length ? slice.call(arguments, 1) : [];
      if (listeners[id] == null) {
        return;
      }
      ref = listeners[id];
      results = [];
      for (i = 0, len = ref.length; i < len; i++) {
        h = ref[i];
        results.push(h.apply(null, args));
      }
      return results;
    }
  };
};
